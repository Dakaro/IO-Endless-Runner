<script src="http://localhost:3000/socket.io/socket.io.js"></script>
<script src="../../client.js"></script>

<h1>Forum</h1>


<div class="posts-wrapper">
    <form action="/forum" method="POST">
        <div>
            <label for="title" hidden>Title</label>
            <input type="text" name="title" id="title" placeholder="Post title" class="input--big">
        </div>
        <div>
            <label for="content" hidden>Content</label>
            <textarea required name="content" id="content" placeholder="Enter your post here"></textarea>
        </div>
        <button type="submit">Post</button>
    </form>
</div>

<div class="posts-wrapper">
    <% posts.forEach((post) => { %> 
        <div class="post">
            <img alt="avatar" class="avatar" src="/img/avatar_default_temp.png">
            <span><%= post.authorUsername %></span>
            <span class="color-secondary small"><%= post.date.toLocaleString() %></span>
            <% if(post.title !== "") { %>
                <h4><div class="title-format"><%= post.title %></div></h4>
            <% } else {%>
                <h4>No title</h4>
            <% }%>
            <p>
            <div class="content-format"><%= post.content %></div></p>
        </div>
    <% }) %>         
</div>